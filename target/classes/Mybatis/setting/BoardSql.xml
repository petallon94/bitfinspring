<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace ="board">
	<select id ="selectDataOfBoard" resultType="bdto">
	select * from board 
	</select>
	<insert id="insertOfBoard" parameterType="bdto">
		insert into board (bmidnum,bwriter,bsubject,bcontent,bwritedate,breadcount) values (13,"보드테스트",#{bsubject},#{bcontent},now(),0)
	</insert>
	<select id ="selectoneOfBoard" resultType="bdto">
	select * from board where bnum = #{bnum} 
	</select>
	<select id = "selectAllOfBoard" parameterType="HashMap" resultType ="bdto">
	select * from board order by regroup desc, restep asc limit #{start},#{perpage}
	</select>
	<update id = "updateRestepOfBoard" parameterType ="HashMap">
	<![CDATA[ update creboard set restep = restep+1 where regroup = #{regroup} and restep>#{restep}</!>]]>
	</update>
</mapper>